"use strict";(self.webpackChunkdocs_spa=self.webpackChunkdocs_spa||[]).push([[833],{4235:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var i=s(4848),r=s(8453);const o={},t=void 0,l={id:"autobot-admin/client-node-package/client-node-controller",title:"client-node-controller",description:"Detailed Documentation for ClientNodeController",source:"@site/docs/autobot-admin/client-node-package/client-node-controller.md",sourceDirName:"autobot-admin/client-node-package",slug:"/autobot-admin/client-node-package/client-node-controller",permalink:"/autobot-docs/docs/autobot-admin/client-node-package/client-node-controller",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/autobot-admin/client-node-package/client-node-controller.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"entity",permalink:"/autobot-docs/docs/autobot-admin/client-node-package/entity"},next:{title:"dtos",permalink:"/autobot-docs/docs/autobot-admin/client-node-package/dtos"}},d={},c=[{value:"Detailed Documentation for <code>ClientNodeController</code>",id:"detailed-documentation-for-clientnodecontroller",level:3},{value:"Annotations and Configurations",id:"annotations-and-configurations",level:3},{value:"Fields",id:"fields",level:3},{value:"Endpoints and Methods",id:"endpoints-and-methods",level:3},{value:"1. <strong>Register Client Node</strong>",id:"1-register-client-node",level:4},{value:"Error Handling and Logging",id:"error-handling-and-logging",level:3},{value:"Request and Response",id:"request-and-response",level:3},{value:"Request:",id:"request",level:4},{value:"Example Request:",id:"example-request",level:4},{value:"Response:",id:"response",level:4},{value:"Example Success Response:",id:"example-success-response",level:4},{value:"Example Error Response:",id:"example-error-response",level:4}];function a(e){const n={code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h3,{id:"detailed-documentation-for-clientnodecontroller",children:["Detailed Documentation for ",(0,i.jsx)(n.code,{children:"ClientNodeController"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"ClientNodeController"})," class located in the ",(0,i.jsx)(n.code,{children:"autobot.app.admin.clientnode"})," package is a ",(0,i.jsx)(n.strong,{children:"REST API controller"})," that manages operations related to the registration and connection of client nodes (such as candidate systems) to the server in the Autobot Admin application. The controller handles client registration requests and ensures proper error handling and logging."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"annotations-and-configurations",children:"Annotations and Configurations"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:'@CrossOrigin(origins = "*", maxAge = 3600)'}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["This annotation allows cross-origin requests from any origin (",(0,i.jsx)(n.code,{children:"*"}),") and sets the maximum age for preflight requests to 3600 seconds (1 hour). This is useful when the API is consumed by different domains."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"@RestController"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Marks the class as a ",(0,i.jsx)(n.strong,{children:"REST controller"})," in Spring Boot. It indicates that the methods return domain objects, which are automatically converted into JSON or XML."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:'@RequestMapping("/api/client/")'}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Specifies that all the endpoints in this controller are prefixed with ",(0,i.jsx)(n.code,{children:"/api/client/"}),". Each method defines the specific path and HTTP method used for operations related to client nodes."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"fields",children:"Fields"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ClientNodeService (clientNodeService)"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Injected using ",(0,i.jsx)(n.code,{children:"@Autowired"}),", the ",(0,i.jsx)(n.code,{children:"ClientNodeService"})," provides the business logic for handling client node operations, such as registering client nodes."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Logger (logger)"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["SLF4J's ",(0,i.jsx)(n.code,{children:"Logger"})," is used to log information and errors, aiding in debugging and monitoring application behavior."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"endpoints-and-methods",children:"Endpoints and Methods"}),"\n",(0,i.jsxs)(n.h4,{id:"1-register-client-node",children:["1. ",(0,i.jsx)(n.strong,{children:"Register Client Node"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": ",(0,i.jsx)(n.code,{children:"POST /api/client/connect"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": This endpoint allows client nodes (e.g., candidate computers) to connect to the server by registering them."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Body"}),": The request expects a ",(0,i.jsx)(n.code,{children:"ConnectToServerRequestDTO"})," object containing details necessary for the client node registration."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Service Call"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The method calls ",(0,i.jsx)(n.code,{children:"clientNodeService.registerClientNode(request)"})," to process the connection and registration of the client node."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Handling"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If any exception occurs during the registration process, it is caught and logged using ",(0,i.jsx)(n.code,{children:"logger.error()"}),". If the exception is an instance of ",(0,i.jsx)(n.code,{children:"InvalidInputException"}),", its message is used; otherwise, a generic temporary issue error message is returned."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If the registration is successful, a ",(0,i.jsx)(n.code,{children:"ResponseMessage"})," object is created containing the ",(0,i.jsx)(n.code,{children:"ConnectToServerResponseDTO"})," returned by the service layer. The response includes a success message or an error message if the registration fails."]}),"\n",(0,i.jsxs)(n.li,{children:["The response is wrapped in a ",(0,i.jsx)(n.code,{children:"ResponseEntity"})," with ",(0,i.jsx)(n.strong,{children:"HTTP Status 200"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@RequestMapping(value = "/connect", method = RequestMethod.POST)\npublic ResponseEntity registerClientNode(@RequestBody ConnectToServerRequestDTO request) { ... }\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"error-handling-and-logging",children:"Error Handling and Logging"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Handling"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The method handles errors and exceptions gracefully. When an exception occurs, it checks if it's an ",(0,i.jsx)(n.code,{children:"InvalidInputException"}),". If so, it uses the exception message in the response. Otherwise, it returns a more generic error message (",(0,i.jsx)(n.code,{children:"ErrorMessagesEnum.temporaryIssue"}),")."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Logging"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["All exceptions are logged using SLF4J's ",(0,i.jsx)(n.code,{children:"logger.error()"})," to ensure that issues are recorded for later debugging."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"request-and-response",children:"Request and Response"}),"\n",(0,i.jsx)(n.h4,{id:"request",children:"Request:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Method"}),": ",(0,i.jsx)(n.code,{children:"POST"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request URL"}),": ",(0,i.jsx)(n.code,{children:"/api/client/connect"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Body"}),": A JSON object representing ",(0,i.jsx)(n.code,{children:"ConnectToServerRequestDTO"}),". This DTO contains the necessary information for the client node to connect to the server."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"example-request",children:"Example Request:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "nodeId": "12345",\n  "centerId": "67890",\n  "ipAddress": "192.168.1.10"\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"response",children:"Response:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The response is wrapped in a ",(0,i.jsx)(n.code,{children:"ResponseMessage"})," object, which may include the registration details or an error message, depending on the success or failure of the operation."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"example-success-response",children:"Example Success Response:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "data": {\n    "nodeId": "12345",\n    "connectionStatus": "Connected",\n    "serverTime": "2024-09-25T12:34:56"\n  },\n  "message": "Node successfully registered"\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"example-error-response",children:"Example Error Response:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "status": "error",\n  "data": null,\n  "message": "Temporary issue, please try again later"\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);